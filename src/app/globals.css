@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Temple color system using OKLCH */
    --background: oklch(0.95 0.02 60); /* Warm parchment */
    --foreground: oklch(0.25 0.03 40); /* Deep brown-black */
    
    --card: oklch(0.97 0.015 60);
    --card-foreground: oklch(0.25 0.03 40);
    
    --popover: oklch(0.97 0.015 60);
    --popover-foreground: oklch(0.25 0.03 40);
    
    --primary: oklch(0.45 0.15 30); /* Deep blood red */
    --primary-foreground: oklch(0.98 0.01 60);
    
    --secondary: oklch(0.65 0.12 50); /* Warm gold */
    --secondary-foreground: oklch(0.15 0.02 40);
    
    --muted: oklch(0.88 0.02 50);
    --muted-foreground: oklch(0.50 0.03 40);
    
    --accent: oklch(0.70 0.15 45); /* Bright temple gold */
    --accent-foreground: oklch(0.15 0.02 40);
    
    --destructive: oklch(0.55 0.22 25);
    --destructive-foreground: oklch(0.98 0.01 60);
    
    --border: oklch(0.80 0.03 50);
    --input: oklch(0.85 0.02 50);
    --ring: oklch(0.65 0.12 50);
    
    --radius: 0.5rem;

    /* Temple-specific colors */
    --parchment: oklch(0.94 0.025 55);
    --temple-gold: oklch(0.70 0.15 45);
    --temple-gold-light: oklch(0.80 0.12 50);
    --temple-red: oklch(0.45 0.15 30);
    --temple-red-dark: oklch(0.35 0.18 25);
  }

  .dark {
    --background: oklch(0.20 0.02 40);
    --foreground: oklch(0.95 0.01 60);
    
    --card: oklch(0.22 0.02 40);
    --card-foreground: oklch(0.95 0.01 60);
    
    --popover: oklch(0.22 0.02 40);
    --popover-foreground: oklch(0.95 0.01 60);
    
    --primary: oklch(0.55 0.15 30);
    --primary-foreground: oklch(0.98 0.01 60);
    
    --secondary: oklch(0.65 0.12 50);
    --secondary-foreground: oklch(0.15 0.02 40);
    
    --muted: oklch(0.30 0.02 40);
    --muted-foreground: oklch(0.70 0.02 50);
    
    --accent: oklch(0.70 0.15 45);
    --accent-foreground: oklch(0.15 0.02 40);
    
    --destructive: oklch(0.60 0.22 25);
    --destructive-foreground: oklch(0.98 0.01 60);
    
    --border: oklch(0.35 0.02 40);
    --input: oklch(0.30 0.02 40);
    --ring: oklch(0.65 0.12 50);

    /* Temple-specific colors for dark mode */
    --parchment: oklch(0.25 0.02 45);
    --temple-gold: oklch(0.75 0.15 50);
    --temple-gold-light: oklch(0.85 0.12 55);
    --temple-red: oklch(0.50 0.18 30);
    --temple-red-dark: oklch(0.40 0.20 25);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Curtain scroll lock - ensure it always works and always cleans up */
body.curtain-no-scroll {
  overflow: hidden !important;
  position: fixed !important;
  width: 100% !important;
  height: 100% !important;
  top: 0 !important;
  left: 0 !important;
}

/* Curtain container and panels */
.curtain-container {
  position: absolute;
  inset: 0;
  display: flex;
  overflow: hidden;
}

.curtain-panel {
  position: relative;
  width: 50%;
  height: 100%;
  transform-style: preserve-3d;
  transition: transform 2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.curtain-left {
  transform-origin: left center;
}

.curtain-right {
  transform-origin: right center;
}

/* Entrance animation state */
.curtain-container.entering .curtain-left {
  animation: curtainEntranceLeft 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.curtain-container.entering .curtain-right {
  animation: curtainEntranceRight 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Revealing animation state */
.curtain-container.revealing .curtain-left {
  transform: translateX(-100%) rotateY(-15deg);
}

.curtain-container.revealing .curtain-right {
  transform: translateX(100%) rotateY(15deg);
}

/* Curtain layers */
.curtain-texture-layer,
.curtain-folds-layer,
.curtain-filigree-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.curtain-texture-layer {
  z-index: 1;
}

.curtain-folds-layer {
  z-index: 2;
  opacity: 0.8;
  mix-blend-mode: multiply;
}

.curtain-filigree-layer {
  z-index: 3;
  opacity: 0.6;
  mix-blend-mode: screen;
}

/* Curtain entrance animations */
@keyframes curtainEntranceLeft {
  0% {
    transform: translateX(-120%) rotateY(-25deg) scale(0.8);
    opacity: 0;
  }
  60% {
    transform: translateX(5%) rotateY(3deg) scale(1.02);
    opacity: 1;
  }
  100% {
    transform: translateX(0) rotateY(0deg) scale(1);
    opacity: 1;
  }
}

@keyframes curtainEntranceRight {
  0% {
    transform: translateX(120%) rotateY(25deg) scale(0.8);
    opacity: 0;
  }
  60% {
    transform: translateX(-5%) rotateY(-3deg) scale(1.02);
    opacity: 1;
  }
  100% {
    transform: translateX(0) rotateY(0deg) scale(1);
    opacity: 1;
  }
}

/* Figure-specific animations for scroll-triggered overlays */
@keyframes jesusEntrance {
  0% {
    opacity: 0;
    transform: translateY(-30px) scale(0.9);
    filter: blur(10px) brightness(2);
  }
  50% {
    opacity: 0.7;
    filter: blur(5px) brightness(1.5);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0) brightness(1);
  }
}

@keyframes satanEntrance {
  0% {
    opacity: 0;
    transform: translateY(30px) scale(0.9) rotate(-5deg);
    filter: blur(10px) brightness(0.5);
  }
  50% {
    opacity: 0.7;
    filter: blur(5px) brightness(0.7);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1) rotate(0deg);
    filter: blur(0) brightness(1);
  }
}

@keyframes kanyeEntrance {
  0% {
    opacity: 0;
    transform: scale(0.8) rotate(10deg);
    filter: blur(15px) hue-rotate(45deg);
  }
  50% {
    opacity: 0.7;
    filter: blur(7px) hue-rotate(20deg);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
    filter: blur(0) hue-rotate(0deg);
  }
}

@keyframes trumpEntrance {
  0% {
    opacity: 0;
    transform: translateX(-50px) scale(1.1);
    filter: blur(12px) saturate(2);
  }
  50% {
    opacity: 0.7;
    filter: blur(6px) saturate(1.5);
  }
  100% {
    opacity: 1;
    transform: translateX(0) scale(1);
    filter: blur(0) saturate(1);
  }
}

@keyframes overlayFadeOut {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

/* Micro-cameo animations - enhanced brightness and duration */
@keyframes microCameoFadeOut {
  0% {
    opacity: 1;
  }
  70% {
    opacity: 0.8;
  }
  100% {
    opacity: 0;
  }
}

@keyframes ultraBrightFlash {
  0% {
    opacity: 1;
    filter: brightness(3) contrast(2) saturate(1.8);
  }
  40% {
    opacity: 0.9;
    filter: brightness(2.5) contrast(1.8) saturate(1.5);
  }
  100% {
    opacity: 0;
    filter: brightness(1.5) contrast(1.2) saturate(1);
  }
}

@keyframes microJesusAppear {
  0% {
    opacity: 0;
    transform: scale(0.85);
    filter: drop-shadow(0 0 100px rgba(255, 215, 0, 1)) brightness(1.5);
  }
  30% {
    opacity: 1;
    transform: scale(1.05);
    filter: drop-shadow(0 0 90px rgba(255, 215, 0, 1)) brightness(1.4);
  }
  100% {
    opacity: 0.7;
    transform: scale(1);
    filter: drop-shadow(0 0 80px rgba(255, 215, 0, 0.8)) brightness(1.2);
  }
}

/* Random burst flash animation - enhanced brightness and duration */
@keyframes randomBurstFlash {
  0% {
    opacity: 1;
    filter: brightness(3.5) contrast(2.2) saturate(2);
  }
  50% {
    opacity: 0.85;
    filter: brightness(3) contrast(2) saturate(1.8);
  }
  100% {
    opacity: 0;
    filter: brightness(1.5) contrast(1.2) saturate(1);
  }
}

/* Popup meme float animation */
@keyframes popup-meme-float {
  0% {
    opacity: 0;
    transform: translate(0, 20px) scale(0.8) rotate(0deg);
  }
  10% {
    opacity: 1;
    transform: translate(0, 0) scale(1) rotate(var(--rotation, 0deg));
  }
  90% {
    opacity: 1;
    transform: translate(0, -10px) scale(1) rotate(var(--rotation, 0deg));
  }
  100% {
    opacity: 0;
    transform: translate(0, -30px) scale(0.9) rotate(var(--rotation, 0deg));
  }
}
